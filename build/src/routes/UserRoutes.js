"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.userRoutes = void 0;
const express_1 = require("express");
const UserRepository_1 = require("../repositories/UserRepository");
const emailProvider_1 = require("../providers/emailProvider");
const UserService_1 = require("../services/UserService");
const UserController_1 = require("../controllers/UserController");
const authMiddleware_1 = require("../middlewares/authMiddleware");
const userRoutes = (0, express_1.Router)();
exports.userRoutes = userRoutes;
const userRepository = new UserRepository_1.UserRepository();
const userService = new UserService_1.UserService(userRepository, emailProvider_1.transporter);
const userController = new UserController_1.UserController(userService);
userRoutes.post('/users', (req, res) => userController.createUser(req, res));
userRoutes.get('/users/:id', authMiddleware_1.authMiddleware, (req, res) => userController.getUser(req, res));
userRoutes.put('/users/:id', authMiddleware_1.authMiddleware, (req, res) => userController.updateUser(req, res));
